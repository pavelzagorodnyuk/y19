1. В функции AreSimilar есть один очень незаметный, узкий баг (нужно искать не первый схожий объект, а наиболее схожий)
2. Заменить функцию reflect.DeelEqual своим аналогом